# ğŸ—ï¸ ARCHITECTURE DE LA LIAISON FRONTEND-BACKEND

## ğŸ“Š Vue d'Ensemble

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FRONTEND ANGULAR ADMIN                      â”‚
â”‚                    (frontend-admin/)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP Requests
                              â”‚ (JSON)
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND NODE.JS                            â”‚
â”‚                       (backend/)                                â”‚
â”‚                                                                 â”‚
â”‚  Local:  http://localhost:8080/api                             â”‚
â”‚  Prod:   https://equizz-backend.onrender.com/api               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ SQL Queries
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BASE DE DONNÃ‰ES                            â”‚
â”‚                         MySQL                                   â”‚
â”‚                                                                 â”‚
â”‚  Local:  localhost:3306                                        â”‚
â”‚  Prod:   Aiven MySQL (mysql-xxxxx.aivencloud.com)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ FLUX DE DONNÃ‰ES

### 1. Authentification

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚                                    â”‚   Backend    â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚  LoginPage   â”‚â”€â”€â”€â”€ POST /api/auth/login â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ AuthControllerâ”‚
â”‚              â”‚     { email, password }            â”‚              â”‚
â”‚              â”‚                                    â”‚      â”‚       â”‚
â”‚              â”‚                                    â”‚      â–¼       â”‚
â”‚              â”‚                                    â”‚  Validate    â”‚
â”‚              â”‚                                    â”‚  Credentials â”‚
â”‚              â”‚                                    â”‚      â”‚       â”‚
â”‚              â”‚                                    â”‚      â–¼       â”‚
â”‚              â”‚â—€â”€â”€â”€â”€ { token, user } â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Generate    â”‚
â”‚              â”‚                                    â”‚  JWT Token   â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚  Store Token â”‚                                    â”‚              â”‚
â”‚  in          â”‚                                    â”‚              â”‚
â”‚  localStorageâ”‚                                    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. RequÃªte AuthentifiÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚                                    â”‚   Backend    â”‚
â”‚              â”‚                                    â”‚              â”‚
â”‚  Component   â”‚â”€â”€â”€â”€ GET /api/academic/classes â”€â”€â”€â–¶â”‚ Middleware   â”‚
â”‚              â”‚     Header: Authorization:         â”‚ authenticate â”‚
â”‚              â”‚     Bearer <token>                 â”‚      â”‚       â”‚
â”‚              â”‚                                    â”‚      â–¼       â”‚
â”‚              â”‚                                    â”‚  Verify      â”‚
â”‚              â”‚                                    â”‚  JWT Token   â”‚
â”‚              â”‚                                    â”‚      â”‚       â”‚
â”‚              â”‚                                    â”‚      â–¼       â”‚
â”‚              â”‚                                    â”‚  Controller  â”‚
â”‚              â”‚                                    â”‚      â”‚       â”‚
â”‚              â”‚                                    â”‚      â–¼       â”‚
â”‚              â”‚â—€â”€â”€â”€â”€ { success, data } â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Repository  â”‚
â”‚              â”‚                                    â”‚      â”‚       â”‚
â”‚              â”‚                                    â”‚      â–¼       â”‚
â”‚  Display     â”‚                                    â”‚  Database    â”‚
â”‚  Data        â”‚                                    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›ï¸ ARCHITECTURE FRONTEND (Clean Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PRESENTATION                            â”‚
â”‚                    (Components, Pages)                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Login    â”‚  â”‚Dashboard â”‚  â”‚ Classes  â”‚  â”‚ Courses  â”‚      â”‚
â”‚  â”‚ Page     â”‚  â”‚ Page     â”‚  â”‚ Page     â”‚  â”‚ Page     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         APPLICATION                             â”‚
â”‚                    (Services, Use Cases)                        â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Auth     â”‚  â”‚Academic  â”‚  â”‚ Quiz     â”‚  â”‚Analytics â”‚      â”‚
â”‚  â”‚ Service  â”‚  â”‚ Service  â”‚  â”‚ Service  â”‚  â”‚ Service  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DOMAIN                                â”‚
â”‚                    (Entities, Interfaces)                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ User     â”‚  â”‚Academic  â”‚  â”‚ Class    â”‚  â”‚ Quiz     â”‚      â”‚
â”‚  â”‚ Entity   â”‚  â”‚Year      â”‚  â”‚ Entity   â”‚  â”‚ Entity   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Repository Interfaces (Abstractions)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       INFRASTRUCTURE                            â”‚
â”‚              (Repositories, HTTP, Mappers)                      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Repositories                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ Auth     â”‚  â”‚Academic  â”‚  â”‚ Quiz     â”‚              â”‚  â”‚
â”‚  â”‚  â”‚Repositoryâ”‚  â”‚Year Repo â”‚  â”‚Repositoryâ”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    HTTP Layer                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ API      â”‚  â”‚ Auth     â”‚  â”‚ Error    â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ Service  â”‚  â”‚Intercept.â”‚  â”‚Intercept.â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Mappers                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚  â”‚
â”‚  â”‚  â”‚ Auth     â”‚  â”‚Academic  â”‚  â”‚ Quiz     â”‚              â”‚  â”‚
â”‚  â”‚  â”‚ Mapper   â”‚  â”‚ Mapper   â”‚  â”‚ Mapper   â”‚              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   BACKEND API    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ TRANSFORMATION DES DONNÃ‰ES

### Backend â†’ Frontend (Mapper)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND RESPONSE                           â”‚
â”‚                                                                 â”‚
â”‚  {                                                              â”‚
â”‚    "id": 1,                                                     â”‚
â”‚    "nom": "2025-2026",                                          â”‚
â”‚    "dateDebut": "2025-09-01T00:00:00.000Z",                    â”‚
â”‚    "dateFin": "2026-06-30T00:00:00.000Z",                      â”‚
â”‚    "estActive": true,                                           â”‚
â”‚    "semestres": [...]                                           â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Mapper
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DOMAIN ENTITY                              â”‚
â”‚                                                                 â”‚
â”‚  new AcademicYear(                                              â”‚
â”‚    '1',                      // id (string)                     â”‚
â”‚    '2025-2026',              // name                            â”‚
â”‚    new Date('2025-09-01'),   // startDate (Date object)         â”‚
â”‚    new Date('2026-06-30'),   // endDate (Date object)           â”‚
â”‚    true,                     // isActive                        â”‚
â”‚    [...]                     // periods (mapped)                â”‚
â”‚  )                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Frontend â†’ Backend (Mapper)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DOMAIN ENTITY                              â”‚
â”‚                                                                 â”‚
â”‚  new AcademicYear(                                              â”‚
â”‚    undefined,                // id (will be generated)          â”‚
â”‚    '2026-2027',              // name                            â”‚
â”‚    new Date('2026-09-01'),   // startDate                       â”‚
â”‚    new Date('2027-06-30'),   // endDate                         â”‚
â”‚    false,                    // isActive                        â”‚
â”‚    []                        // periods                         â”‚
â”‚  )                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Mapper
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND REQUEST                            â”‚
â”‚                                                                 â”‚
â”‚  {                                                              â”‚
â”‚    "nom": "2026-2027",                                          â”‚
â”‚    "dateDebut": "2026-09-01",                                   â”‚
â”‚    "dateFin": "2027-06-30",                                     â”‚
â”‚    "estActive": false                                           â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” GESTION DE L'AUTHENTIFICATION

### Flux Complet

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         1. LOGIN                                 â”‚
â”‚                                                                  â”‚
â”‚  User enters credentials                                         â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  POST /api/auth/login                                           â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Backend validates & returns JWT token                          â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Store token in localStorage                                    â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Redirect to dashboard                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    2. AUTHENTICATED REQUEST                      â”‚
â”‚                                                                  â”‚
â”‚  User navigates to protected page                               â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  AuthGuard checks if token exists                               â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Component makes API request                                    â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  AuthInterceptor adds token to headers                          â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Backend validates token                                        â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Returns data                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    3. TOKEN EXPIRED                              â”‚
â”‚                                                                  â”‚
â”‚  API request with expired token                                 â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Backend returns 401 Unauthorized                               â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  ErrorInterceptor catches 401                                   â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Clear token from localStorage                                  â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Redirect to login page                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    4. LOGOUT                                     â”‚
â”‚                                                                  â”‚
â”‚  User clicks logout                                             â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Clear token from localStorage                                  â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Clear user data                                                â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  Redirect to login page                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ STRUCTURE DES FICHIERS

### Frontend (AprÃ¨s Migration)

```
frontend-admin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ environments/
â”‚   â”‚   â”œâ”€â”€ environment.ts              â† Ã€ CRÃ‰ER (local)
â”‚   â”‚   â””â”€â”€ environment.prod.ts         â† Ã€ CRÃ‰ER (production)
â”‚   â”‚
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â”‚   â”œâ”€â”€ http/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api.service.ts      â† Ã€ CRÃ‰ER (base HTTP)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.interceptor.ts â† Ã€ AMÃ‰LIORER
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ error.interceptor.tsâ† Ã€ AMÃ‰LIORER
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ interfaces/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ backend.interfaces.ts â† Ã€ CRÃ‰ER
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.repository.ts  â† Ã€ MIGRER
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ academic-year.repository.ts â† Ã€ MIGRER
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ class.repository.ts â† Ã€ MIGRER
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ course.repository.tsâ† Ã€ MIGRER
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ quiz.repository.ts  â† Ã€ MIGRER
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ mappers/
â”‚   â”‚   â”‚       â”œâ”€â”€ auth.mapper.ts      â† Ã€ CRÃ‰ER
â”‚   â”‚   â”‚       â”œâ”€â”€ academic.mapper.ts  â† Ã€ CRÃ‰ER
â”‚   â”‚   â”‚       â””â”€â”€ quiz.mapper.ts      â† Ã€ CRÃ‰ER
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entities/           â† DÃ©jÃ  existant
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ repositories/       â† DÃ©jÃ  existant
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â”œâ”€â”€ auth.service.ts     â† DÃ©jÃ  existant
â”‚   â”‚   â”‚       â”œâ”€â”€ academic.service.ts â† DÃ©jÃ  existant
â”‚   â”‚   â”‚       â””â”€â”€ quiz.service.ts     â† Ã€ MIGRER
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ presentation/
â”‚   â”‚       â”œâ”€â”€ pages/                  â† DÃ©jÃ  existant
â”‚   â”‚       â””â”€â”€ components/             â† DÃ©jÃ  existant
â”‚   â”‚
â”‚   â””â”€â”€ main.ts
â”‚
â””â”€â”€ angular.json                        â† Ã€ METTRE Ã€ JOUR
```

---

## ğŸ”„ CYCLE DE VIE D'UNE REQUÃŠTE

### Exemple: RÃ©cupÃ©rer la liste des classes

```
1. USER ACTION
   â”‚
   â”‚  User navigates to /classes
   â”‚
   â–¼

2. COMPONENT
   â”‚
   â”‚  ClassesPage.component.ts
   â”‚  ngOnInit() {
   â”‚    this.loadClasses();
   â”‚  }
   â”‚
   â–¼

3. SERVICE
   â”‚
   â”‚  AcademicService.getClasses()
   â”‚
   â–¼

4. USE CASE
   â”‚
   â”‚  GetAllClassesUseCase.execute()
   â”‚
   â–¼

5. REPOSITORY
   â”‚
   â”‚  ClassRepository.getAll()
   â”‚  return this.http.get<BackendClass[]>('/api/academic/classes')
   â”‚
   â–¼

6. HTTP INTERCEPTOR (Auth)
   â”‚
   â”‚  Add Authorization header
   â”‚  Authorization: Bearer <token>
   â”‚
   â–¼

7. BACKEND API
   â”‚
   â”‚  GET /api/academic/classes
   â”‚  Middleware: authenticate, isAdmin
   â”‚  Controller: classeController.findAll
   â”‚  Repository: classeRepository.findAll
   â”‚  Database: SELECT * FROM Classes
   â”‚
   â–¼

8. BACKEND RESPONSE
   â”‚
   â”‚  [
   â”‚    { id: 1, nom: "L1 Info A", niveau: "Licence 1", ... },
   â”‚    { id: 2, nom: "L1 Info B", niveau: "Licence 1", ... }
   â”‚  ]
   â”‚
   â–¼

9. MAPPER
   â”‚
   â”‚  ClassMapper.toDomain(backendClasses)
   â”‚  Convert backend format to domain entities
   â”‚
   â–¼

10. DOMAIN ENTITIES
    â”‚
    â”‚  [
    â”‚    new Class('1', 'L1 Info A', 'Licence 1', ...),
    â”‚    new Class('2', 'L1 Info B', 'Licence 1', ...)
    â”‚  ]
    â”‚
    â–¼

11. COMPONENT
    â”‚
    â”‚  this.classes = classes;
    â”‚  Display in template
    â”‚
    â–¼

12. UI
    â”‚
    â”‚  User sees the list of classes
```

---

## ğŸ¯ POINTS CLÃ‰S

### 1. SÃ©paration des ResponsabilitÃ©s
- **Presentation**: Affichage et interaction utilisateur
- **Application**: Logique mÃ©tier et orchestration
- **Domain**: EntitÃ©s et rÃ¨gles mÃ©tier
- **Infrastructure**: AccÃ¨s aux donnÃ©es et services externes

### 2. Inversion de DÃ©pendances
- Les couches internes ne dÃ©pendent pas des couches externes
- Les repositories implÃ©mentent des interfaces dÃ©finies dans le domain
- Facilite les tests et la maintenance

### 3. Mappers
- Convertissent les donnÃ©es backend vers les entitÃ©s domain
- GÃ¨rent les diffÃ©rences de nomenclature
- GÃ¨rent les conversions de types (IDs, dates, etc.)

### 4. Intercepteurs
- **AuthInterceptor**: Ajoute le token JWT Ã  toutes les requÃªtes
- **ErrorInterceptor**: GÃ¨re les erreurs HTTP globalement

### 5. Guards
- **AuthGuard**: ProtÃ¨ge les routes nÃ©cessitant une authentification
- **AdminGuard**: ProtÃ¨ge les routes nÃ©cessitant le rÃ´le admin

---

## ğŸ“Š NOMENCLATURE

### Backend â†’ Frontend

| Backend | Frontend | Type |
|---------|----------|------|
| `id` (number) | `id` (string) | Conversion |
| `nom` | `name` | Traduction |
| `dateDebut` | `startDate` | Traduction |
| `dateFin` | `endDate` | Traduction |
| `estActive` | `isActive` | Traduction |
| `annees-academiques` | `academic-year` | URL |
| `semestres` | `periods` | Concept |
| `cours` | `course` | Traduction |
| `classes` | `class` | Traduction |
| `evaluations` | `quiz` | Concept |

---

## âœ… CONCLUSION

Cette architecture permet:
- âœ… SÃ©paration claire des responsabilitÃ©s
- âœ… TestabilitÃ© Ã©levÃ©e
- âœ… MaintenabilitÃ© facilitÃ©e
- âœ… Ã‰volutivitÃ© assurÃ©e
- âœ… IndÃ©pendance vis-Ã -vis du backend

**PrÃªt pour la migration !** ğŸš€

---

**Date de crÃ©ation**: 2025-11-22  
**Statut**: Documentation complÃ¨te
